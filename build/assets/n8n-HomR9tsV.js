const i={invoice:"https://n8n.srv987649.hstgr.cloud/webhook/a043e005-7e94-42cc-b210-83c52ff908d6",ga:"https://n8n.srv1009033.hstgr.cloud/webhook/ga",kdr:"https://n8n.srv1009033.hstgr.cloud/webhook/KDR"};async function h(c,n){const s=i[c],r={...n,conversationId:n.conversationId??`user:${n.sender}`};try{const e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r),mode:"cors"}).catch(()=>null);if(!e||!e.ok)return{text:"Service unavailable"};const t=await e.json().catch(async()=>({text:await e.text()})),o=typeof(t.reply??t.text)=="string"?t.reply??t.text:JSON.stringify(t),a=Array.isArray(t.attachments)?t.attachments:[];return{text:o,attachments:a}}catch{return null}}export{h as sendChat};
